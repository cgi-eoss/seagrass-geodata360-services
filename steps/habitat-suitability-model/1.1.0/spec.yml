identifier: habitat-suitability-model
title: Habitat Suitability Model
version: 1.1.0
abstract: |-
  A previously calculated seagrass habitat suitability model is included is
  filled and interpolated to a higher resolution, to ensure full
  coverage of the coastline, and reprojected to the CRS of the input Sentinel-2
  tile.

keywords:
- sentinel2
- bandmaths
- gdal
- geotiff
- cog
requests:
  cpu: 1
  memory: 8Gi

inputs:
- identifier: S2_PRODUCT
  title: Sentinel-2 tile
  abstract: |-
    A Sentinel-2 Level 2A dataset (tile product) in SAFE format, e.g.
    generated by sen2cor.
  min_occurs: 1
  max_occurs: 1

outputs:
- identifier: HSM
  title: Habitat Suitability Model
  abstract: |-
    An interpolated Habitat Suitability Model reprojected to the coordinate
    system of the input Sentinel-2 tile.
  min_occurs: 1
  format: COG

parameters:
- identifier: HSM_RESAMPLING
  title:  HSM resampling method
  abstract: |-
    Resampling method used when collocating the habitat suitability model with
    the input product.

    Available values from gdalwarp: near, bilinear (default), cubic,
    cubicspline, lanczos, average, mode, max, min, med, Q1, Q3.
  data_type: STRING
  min_occurs: 0
  max_occurs: 1
  default_value: ["bilinear"]

- identifier: HSM_FILL_DISTANCE
  title: HSM fill distance
  abstract: |-
    Filling radius when interpolating the habitat suitability model into nodata
    regions, to ensure full coast coverage.

    For example: `200`
  data_type: STRING
  min_occurs: 0
  max_occurs: 1
  default_value: "200"

- identifier: COMPRESS
  title: GeoTIFF compression
  abstract: |-
    The desired compression for the data in the GeoTIFF product. See
    https://gdal.org/drivers/raster/cog.html for the available options.

    Default: DEFLATE
  data_type: STRING
  default_value: DEFLATE
  min_occurs: 0
  max_occurs: 1
